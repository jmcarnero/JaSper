/*! JaSper v3.2b | (c) 2015 José M. Carnero (sargazos.net) | JaSper_ajax */
"use strict";JaSper.extend(JaSper.langs,{en:{"ajax/ajax_1":"This browser can't create AJAX objects.","ajax/ajax_2":"Loading","ajax/ajax_3":"The AJAX request was empty.\nMaybe the destination URL is not accesible from this script.","ajax/ajax_4":"Unauthorized (code 401).","ajax/ajax_5":"Forbidden (code 403).","ajax/ajax_6":"Not Found (code 404).","ajax/ajax_7":"Error"},es:{"ajax/ajax_1":"Su navegador no puede crear objetos AJAX.","ajax/ajax_2":"Cargando","ajax/ajax_3":"La respuesta AJAX está vacía.\nPuede que la URL de destino no sea accesible desde esta máquina/dominio.","ajax/ajax_4":"No tiene autorización (código 401).","ajax/ajax_5":"Acceso no permitido (código 403).","ajax/ajax_6":"La dirección no existe (código 404).","ajax/ajax_7":"Error"}}),JaSper.extend(JaSper.prototype,{ajax:function(a,e,t){if("object"==typeof a)var r=a,a=r.url||null,e=r.valores||null,t=r.metodo||null,n=r.asincrono||null,o=r.cbEnd||null,x=r.cbStart||null,s=r.cbFail||null;if(!a)return!1;if(e?t||(t="post"):e=null,t||(t="get"),!o)var o=function(a,e){"INPUT"==a.tagName?a.value=e.responseText:a.innerHTML=e.responseText};if(!x)var x=function(a){a.innerHTML=JaSper._t("ajax/ajax_2")+"..."};if(!s)var s=function(a,e){switch(e.status){case 0:JaSper.log("-JaSper::ajax- "+JaSper._t("ajax/ajax_3"),1),a.innerHTML=JaSper._t("ajax/ajax_3");break;case 401:JaSper.log("-JaSper::ajax- "+JaSper._t("ajax/ajax_4"),1),a.innerHTML=JaSper._t("ajax/ajax_4");break;case 403:JaSper.log("-JaSper::ajax- "+JaSper._t("ajax/ajax_5"),1),a.innerHTML=JaSper._t("ajax/ajax_5");break;case 404:JaSper.log("-JaSper::ajax- "+JaSper._t("ajax/ajax_6"),1),a.innerHTML=JaSper._t("ajax/ajax_6");break;default:JaSper.log("-JaSper::ajax- "+JaSper._t("ajax/ajax_7")+": "+e.status+", "+e.statusText+" ("+e.responseText+")",2),a.innerHTML=JaSper._t("ajax/ajax_7")+": "+e.status}};if("boolean"!=typeof n)var n=!0;return t=t.toUpperCase(),this.each(function(a,e,t,r){var n=JaSper.ajax.nuevo();if(!n)return JaSper.log("-JaSper::ajax- "+JaSper._t("ajax/ajax_1")),this.innerHTML=JaSper._t("ajax/ajax_1"),!1;n.open(t,a,r),"POST"==t&&(n.setRequestHeader("Method","POST "+a+" HTTP/1.1"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),n.setRequestHeader("Pragma","cache=no"),n.setRequestHeader("Cache-Control","no-transform"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.overrideMimeType&&n.overrideMimeType("text/xml; charset=utf-8"),n.send(e);var j=this,i=function(){return n.readyState<4?(JaSper.log("-JaSper::ajax- Peticion recibida, ajax.readyState = "+n.readyState+"; ajax.responseText = "+(n.responseText?n.responseText:"")),x(j,n)):4==n.readyState?200==n.status?(JaSper.log("-JaSper::ajax- Respuesta recibida, proceso completado"),o(j,n)):s(j,n):void 0};r?4===n.readyState?setTimeout(i,0):n.onreadystatechange=i:i()},[a,e,t,n]),this}}),JaSper.ajax={},JaSper.extend(JaSper.ajax,{nuevo:function(){var a=!1;if("undefined"!=typeof XMLHttpRequest)a=new XMLHttpRequest;else try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){try{a=new ActiveXObject("Msxml2.XMLHTTP.4.0")}catch(r){JaSper.log("-JaSper::ajax- "+JaSper._t("ajax/ajax_1"),2)}}}return a||JaSper.log("-JaSper::nuevoAjax- No se pudo crear el objeto AJAX.",2),a}});