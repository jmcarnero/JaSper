/*! JaSper v3.5 | (c) 2015 Jos√© M. Carnero (sargazos.net) | JaSper_lightbox v1.1b */
JaSper.extend(JaSper.prototype,{lightbox:function(a){"use strict";function e(b){var c=b.getAttribute(a.pie),e=b.getAttribute(a.descripcion);c?(d.innerHTML="<strong>"+c+"</strong>",e&&(d.innerHTML+="<br /><span>"+e+"</span>"),d.style.display="block"):(d.style.display="none",d.innerHTML="")}a=a||{},a.origen=a.origen||"href",a.pie=a.pie||"alt",a.descripcion=a.descripcion||"longdesc",a.exif=a.exif||null,a.contenedor||(a.contenedor=JaSper.nodo.crear("div",{className:"JaSper_lightbox",id:"JaSper_lightbox",title:"JaSper Lightbox",style:"display:none;background:rgba(221, 221, 221, 0.7) none repeat scroll 0 0;height:100%;left:0;position:fixed;text-align:center;top:0;width:100%;z-index:9999;"},document.getElementsByTagName("body")[0]));var b=[],c=JaSper.nodo.crear("img",{className:"JaSper_lightbox_img",alt:"JaSper Lightbox image",src:"",style:"height:auto;margin-top:2.5%;max-height:90%;max-width:90%;width:auto;"});a.contenedor.appendChild(c);var d=JaSper.nodo.crear("p",{className:"JaSper_lightbox_img_p",style:"display:none;"});return a.contenedor.appendChild(d),JaSper.event.add(a.contenedor,"click",function(a){this.style.display="none"}),JaSper.event.add(c,"click",function(a){JaSper.event.stop(a);var c=this.src,d=b.indexOf(c)+1;d>=b.length&&(d=0),this.src=b[d],e(this)}),this.eventAdd("click",function(b){JaSper.event.preventDefault(b),c.src=this.getAttribute(a.origen),e(this),a.contenedor.style.display="block"}).each(function(){var d=this.getAttribute(a.origen);d&&(b.indexOf(d)<0&&(c.src=d,b[b.length]=c.src),c.src="")}),this}});
